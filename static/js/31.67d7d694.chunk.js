"use strict";(self.webpackChunkredux_photo_app=self.webpackChunkredux_photo_app||[]).push([[31],{1031:function(e,o,n){n.r(o),n.d(o,{default:function(){return L}});n(2791);var t=n(6871),l=n(184);function r(e){var o=e.title,n=e.backgroundUrl,t=n?{backgroundImage:"url(".concat(n,")")}:{};return(0,l.jsx)("section",{className:"banner",style:t,children:(0,l.jsx)("h1",{className:"banner__title",children:o})})}r.defaultProps={title:"",backgroundUrl:""};var a=r,i={ORANGE_BG:n(4622),BLUE_BG:n(2565),COLORFUL_BG:n(7622),PINK_BG:n(5605)},s=n(7121),c=n(3504),d=n(6030);function u(e){var o=e.photo,n=e.onEditClick,t=e.onRemoveClick;return(0,l.jsxs)("div",{className:"photo",children:[(0,l.jsx)("img",{src:o.photo,alt:o.title}),(0,l.jsxs)("div",{className:"photo__overlay",children:[(0,l.jsx)("h3",{className:"photo__title",children:o.title}),(0,l.jsxs)("div",{className:"photo__actions",children:[(0,l.jsx)("div",{children:(0,l.jsx)(s.zx,{outline:!0,size:"sm",color:"light",onClick:function(){n&&n(o)},children:"Edit"})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.zx,{outline:!0,size:"sm",color:"danger",onClick:function(){t&&t(o)},children:"Remove"})})]})]})]})}u.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var h=u;function p(e){var o=e.photoList,n=e.onPhotoEditClick,t=e.onPhotoRemoveClick;return console.log({photoList:o}),(0,l.jsx)(s.X2,{children:o.map((function(e){return(0,l.jsx)(s.JX,{xs:"12",md:"6",lg:"3",children:(0,l.jsx)(h,{photo:e,onEditClick:n,onRemoveClick:t})},e.title)}))})}p.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var m=p,v=n(1408);var x=function(e){var o=(0,d.v9)((function(e){return e.photos}));console.log("list of photo",o);var n=(0,t.s0)(),r=(0,d.I0)();return(0,l.jsxs)("div",{className:"photo-main",children:[(0,l.jsx)(a,{title:"your awesome photos",backgroundUrl:i.PINK_BG}),(0,l.jsxs)(s.W2,{className:"text-center",children:[(0,l.jsx)("div",{className:"py-5",children:(0,l.jsx)(c.rU,{to:"add",children:"Add new photo"})}),(0,l.jsx)(m,{photoList:o,onPhotoEditClick:function(e){console.log("edit",e);var o="/photos/".concat(e.id);n(o)},onPhotoRemoveClick:function(e){console.log("remove",e);var o=e.id,n=(0,v.Nm)(o);r(n)}})]})]})},f=n(1413),j=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],g=n(5705);function b(e){var o=e.field,n=e.form,t=e.type,r=e.label,a=e.disabled,i=e.placeholder,c=o.name,d=n.errors,u=n.touched,h=d[c]&&u[c];return(0,l.jsxs)(s.cw,{children:[r&&(0,l.jsx)(s.__,{for:c,children:r}),(0,l.jsx)(s.II,(0,f.Z)((0,f.Z)({id:c},o),{},{disabled:a,placeholder:i,type:t,invalid:h})),(0,l.jsx)(g.Bc,{name:c,component:s.AG})]})}b.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var _=b,k=n(5861),C=n(7757),y=n.n(C);N.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var P=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")};function N(e){var o=e.name,n=e.imageUrl,t=e.onImageUrlChange,r=e.onRandomButtonBlur,a=function(){var e=(0,k.Z)(y().mark((function e(){var o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(o=P(),t(o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:"random-photo",children:[(0,l.jsx)("div",{className:"random-photo__button",children:(0,l.jsx)(s.zx,{outline:!0,name:o,color:"primary",onBlur:r,onClick:a,children:"Random a Photo"})}),(0,l.jsx)("div",{className:"random-photo__photo",children:n&&(0,l.jsx)("img",{src:n,alt:"Ooops ... not found. please click random again",onError:a})})]})}var R=N;function B(e){var o=e.field,n=e.form,t=e.label,r=o.name,a=o.value,i=o.onBlur,c=n.errors,d=n.touched,u=c[r]&&d[r];return(0,l.jsxs)(s.cw,{children:[t&&(0,l.jsx)(s.__,{for:r,children:t}),(0,l.jsx)(R,{name:r,imageUrl:a,onImageUrlChange:function(e){n.setFieldValue(r,e)},onRandomButtonBlur:i}),(0,l.jsx)("div",{className:u?"is-invalid":""}),(0,l.jsx)(g.Bc,{name:r,component:s.AG})]})}B.defaultProps={label:""};var I=B,w=n(9612);function U(e){var o=e.field,n=e.form,t=e.options,r=e.label,a=e.disabled,i=e.placeholder,c=o.name,d=o.value,u=t.find((function(e){return e.value===d})),h=n.errors,p=n.touched,m=h[c]&&p[c];return(0,l.jsxs)(s.cw,{children:[r&&(0,l.jsx)(s.__,{for:c,children:r}),(0,l.jsx)(w.ZP,(0,f.Z)((0,f.Z)({id:c},o),{},{value:u,onChange:function(e){var n=e?e.value:e,t={target:{name:c,value:n}};o.onChange(t)},disabled:a,placeholder:i,options:t,className:m?"is-invalid":""})),(0,l.jsx)(g.Bc,{name:c,component:s.AG})]})}U.defaultProps={options:[],label:"",placeholder:"",disabled:!1};var Z=U,A=n(132);function E(e){var o=e.initialValues,n=e.isAddMode,t=A.Ry().shape({title:A.Z_().required("this field is required"),categoryId:A.Rx().required("this field is required").nullable(),photo:A.Z_().when("categoryId",{is:1,then:A.Z_().required("this field is required"),otherwise:A.Z_().notRequired()})});return(0,l.jsx)(g.J9,{initialValues:o,validationSchema:t,onSubmit:e.onSubmit,children:function(e){var o=e.values,t=e.errors,r=e.touched,a=e.isSubmitting;return console.log({values:o,errors:t,touched:r}),(0,l.jsxs)(g.l0,{children:[(0,l.jsx)(g.Rt,{name:"title",component:_,label:"Title",placeholder:"Eg: Wow nature ..."}),(0,l.jsx)(g.Rt,{name:"categoryId",component:Z,label:"Category",placeholder:"what's your photo category?",options:j}),(0,l.jsx)(g.Rt,{name:"photo",component:I,label:"Photo"}),(0,l.jsx)(s.cw,{children:(0,l.jsxs)(s.zx,{type:"submit",color:n?"primary":"success",children:[a&&(0,l.jsx)(s.$j,{size:"sm"}),n?"Add to album":"Update your Photo"]})})]})}})}E.defaultProps={onSubmit:null};var G=E;var z=function(e){var o=(0,d.I0)(),n=(0,t.s0)(),r=(0,t.UO)().photoId,i=!r,s=(0,d.v9)((function(e){return e.photos.find((function(e){return e.id===+r}))})),c=i?{title:"",categoryId:null,photo:""}:s;return(0,l.jsxs)("div",{className:"photo-edit",children:[(0,l.jsx)(a,{title:"Pick your amazing photo"}),(0,l.jsx)("div",{className:"photo-edit__form",children:(0,l.jsx)(G,{isAddMode:i,initialValues:c,onSubmit:function(e){return new Promise((function(t){console.log("formsubmit",e),setTimeout((function(){if(i){var l=(0,f.Z)((0,f.Z)({},e),{},{id:(s=1e4,c=99999,s+Math.trunc(Math.random()*(c-s)))}),r=(0,v.ZE)(l);console.log(r),o(r)}else{var a=(0,v.tU)(e);o(a)}var s,c;n("/photos"),t(!0)}),2e3)}))}})}),(0,l.jsx)(t.j3,{})]})},q=n(6203);var L=function(e){return(0,l.jsx)("div",{children:(0,l.jsxs)(t.Z5,{children:[(0,l.jsx)(t.AW,{path:"/",element:(0,l.jsx)(x,{})}),(0,l.jsx)(t.AW,{path:"add",element:(0,l.jsx)(z,{})}),(0,l.jsx)(t.AW,{path:":photoId",element:(0,l.jsx)(z,{})}),(0,l.jsx)(t.AW,{path:"*",element:(0,l.jsx)(q.Z,{})})]})})}},2565:function(e,o,n){e.exports=n.p+"static/media/blue-bg.93b683dcd7c104e108ed.jpg"},7622:function(e,o,n){e.exports=n.p+"static/media/colorful-bg.95c0fb342777f6d1bc88.jpg"},4622:function(e,o,n){e.exports=n.p+"static/media/orange-bg.a98c2734b4299e305b7f.jpg"},5605:function(e,o,n){e.exports=n.p+"static/media/pink-bg.d6dafc0aa74a3594ed43.jpg"}}]);
//# sourceMappingURL=31.67d7d694.chunk.js.map